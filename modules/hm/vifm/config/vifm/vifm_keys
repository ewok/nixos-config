" vim: filetype=vim :
" ------------------------------------------------------------------------------
"
nnoremap <wait> <tab><esc> <nop>

" Start shell in current directory
nnoremap s :!tmux-sp-s %d<cr>
nnoremap v :!tmux-sp-v %d<cr>
"nnoremap t :!tmux-sp-t<cr>

" Display sorting dialog
nnoremap S :sort<cr>

" Toggle visibility of preview window
nnoremap w :view<cr>
vnoremap w :view<cr>gv

" View marks, bookmarks, regs, tasks
nnoremap <tab>j :jobs<cr>
nnoremap <tab>m :marks<cr>
nnoremap <tab>b :bmarks<cr>
nnoremap <tab>t :trashes<cr>
nnoremap <tab>R :restore<cr>
nnoremap <tab>w :set wrap!<cr>
" Autojump
nnoremap zz :zi<cr>:redraw<cr>
nnoremap <tab>fo :fd<cr>:redraw<cr>
nnoremap <tab>fc :compare<cr>
nnoremap <tab>ff :ff<cr>

" Registers
nnoremap " :reg<cr>

" Open file
nnoremap o :file<cr>
nnoremap O :!$OPEN_CMD %f<cr>

" Yank current directory path into the clipboard
nnoremap yd :!echo %d | xclip %i<cr>

" Yank current file path into the clipboard
nnoremap yf :!echo %c:p | xclip %i<cr>

" Put
nnoremap pp :put<cr>
nnoremap PP :put!<cr>

nnoremap pb :put &<cr>
nnoremap PB :put! &<cr>

" Mappings for faster renaming
nnoremap I cw<c-a>
nnoremap cc cw<c-u>
nnoremap A cw<c-w>


nnoremap <c-w>= :sync<cr>
nnoremap <c-w>f :sync %c<cr><down>

" Selecting like in MC
nnoremap J av<c-g><c-g><c-m>j
nnoremap K av<c-g><c-g><c-m>k

" Tmux plugin navigator
nnoremap <BS>  :!if [ -n "$TMUX" ]; then tmux select-pane -L; elif [ -n "$ZELLIJ" ]; then zellij action move-focus-or-tab left ;fi<cr>
nnoremap <c-h> :!if [ -n "$TMUX" ]; then tmux select-pane -L; elif [ -n "$ZELLIJ" ]; then zellij action move-focus-or-tab left ;fi<cr>
nnoremap <c-j> :!if [ -n "$TMUX" ]; then tmux select-pane -D; elif [ -n "$ZELLIJ" ]; then zellij action move-focus down ;fi<cr>
nnoremap <c-k> :!if [ -n "$TMUX" ]; then tmux select-pane -U; elif [ -n "$ZELLIJ" ]; then zellij action move-focus up ;fi<cr>
nnoremap <c-l> :!if [ -n "$TMUX" ]; then tmux select-pane -R; elif [ -n "$ZELLIJ" ]; then zellij action move-focus-or-tab right ;fi<cr>

" nnoremap io :code .<cr>
" nnoremap io :vim<cr>
nnoremap i :vim +'let g:auto_load_session = v:true'<cr>
nnoremap ii :vim %f<cr>
nnoremap it :!if [ -n "$TMUX" ]; then tmux new-window vim %f; fi<CR>
nnoremap is :!if [ -n "$TMUX" ]; then tmux split-window -v -p 80 vim %f; fi<CR>
nnoremap iv :!if [ -n "$TMUX" ]; then tmux split-window -h -p 80 vim %f; fi<CR>


" Tabs
nnoremap <c-w>t :tabnew<CR>
nnoremap gt :tabnext<CR>
nnoremap gr :tabprevious<CR>
nnoremap t :tabnew<CR>
nnoremap <wait> <tab><tab> :tabnext<cr>
nnoremap <s-tab>  :tabprevious<cr>

" GoTo
nnoremap <tab>gb :cd ~/bin<cr>
nnoremap <tab>gD :cd ~/Documents<cr>
nnoremap <tab>gd :cd ~/Downloads<cr>
nnoremap <tab>gh :cd ~<cr>
nnoremap <tab>gM :cd ~/media<cr>
nnoremap <tab>gm :cd ~/mnt<cr>
nnoremap <tab>gp :cd ~/projects<cr>
nnoremap <tab>gt :cd ~/tmp<cr>
nnoremap <tab>gw :cd ~/work<cr>
nnoremap <tab>g. :cd ~/dotfiles<cr>

" Filter
nnoremap f =

" Quit
nnoremap q :q<cr>

nnoremap <Left> h
nnoremap <Down> j
nnoremap <Up> k
nnoremap <Right> l
